<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Search and Populate Form</title>
  <style>
    /* Add your CSS styles here */
  </style>
</head>
<body>

  <input type="text" id="searchInput" placeholder="Search...">
  <ul id="searchResults"></ul>

  <form id="infoForm">
    <label for="name">Name:</label>
    <input type="text" id="name" readonly>
    <label for="street">Street:</label>
    <input type="text" id="street" readonly>
    <label for="suburb">Suburb:</label>
    <input type="text" id="suburb" readonly>
    <label for="city">City:</label>
    <input type="text" id="city" readonly>
    <label for="notes">Notes:</label>
    <textarea id="notes" readonly></textarea>
  </form>

  <script>
    // Assuming data.csv has columns: Name, Street, Suburb, City, Notes
    const csvFilePath = 'https://raw.githubusercontent.com/SellwoodPro/sellwood/main/Contacts.csv';

    // Fetch data from CSV file
    fetch(csvFilePath)
      .then(response => response.text())
      .then(data => {
        const rows = data.split('\n').slice(1); // Skip header row
        const dataArray = rows.map(row => row.split(','));

        // Your search logic here
        document.getElementById('searchInput').addEventListener('input', function () {
          const searchTerm = this.value.toLowerCase();
          const searchResults = dataArray.filter(row =>
            row.some(col => col.toLowerCase().includes(searchTerm))
          );

          // Display search results
          const resultsList = document.getElementById('searchResults');
          resultsList.innerHTML = '';

          searchResults.forEach(result => {
            const listItem = document.createElement('li');
            listItem.textContent = result[0]; // Assuming the first column is the Name
            listItem.addEventListener('click', function () {
              // Populate the form fields
              document.getElementById('name').value = result[0];
              document.getElementById('street').value = result[1];
              document.getElementById('suburb').value = result[2];
              document.getElementById('city').value = result[3];
              document.getElementById('notes').value = result[4];
            });

            resultsList.appendChild(listItem);
          });
        });
      });
  </script>

</body>
</html>
